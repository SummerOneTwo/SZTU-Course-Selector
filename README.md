# SZTU 深圳技术大学教务系统自动选课脚本

这是一个用于深圳技术大学（SZTU）教务系统的自动化选课Python脚本。它通过模拟登录和API请求，帮助学生快速、自动地完成选课流程。

## 📢 重要声明

*   **仅供学习和技术交流使用**，请勿用于非法用途或恶意攻击教务系统。
*   使用此脚本可能会给您的账号带来**无法预料的风险**（如被系统暂时锁定等）。开发者不对任何可能产生的后果负责。
*   请**低调使用**，并自行承担所有风险。

## ✨ 主要功能

*   **自动登录**：通过统一身份认证，自动处理登录过程。
*   **多课程支持**：可同时配置多个课程进行抢选。
*   **并发抢课**：使用线程池并发执行抢课请求，提高成功率。
*   **自动重试**：对于失败的课程，脚本会自动进行多轮重试，直到所有课程都选上。
*   **高度可配置**：
    *   支持自定义并发线程数。
    *   支持自定义每轮抢课的冷却时间。
    *   支持不同选课类型（必修、跨专业选课等）。
*   **清晰的日志**：在控制台实时输出登录状态、抢课结果和最终报告。

## 📦 安装

1.  **克隆或下载项目**
    ```bash
    git clone https://github.com/your_username/your_repo_name.git
    cd your_repo_name
    ```

2.  **安装 Python**
    请确保你已经安装了 Python 3.6 或更高版本。

3.  **安装依赖**
    项目依赖 `requests` 和 `pycryptodome`。通过以下命令一键安装：
    ```bash
    pip install -r requirements.txt
    ```

## ⚙️ 配置

在运行脚本之前，你需要创建一个 `config.txt` 文件来配置你的个人信息和目标课程。

1.  **复制配置文件**：
    将项目中的 `config.txt.example` 复制一份，并重命名为 `config.txt`。

2.  **编辑 `config.txt`**：
    打开 `config.txt` 文件，根据里面的注释填写你的信息。

    ```ini
    [mysql]
    # 你的统一身份认证用户名（学号）
    username = 202xxxxx
    # 你的统一身份认证密码
    password = your_password
    # 选课类型: 0 代表“必选计划”，其他数字代表“跨专业选课”
    cno = 0
    # 选课轮次ID (cd)，通常是四位数，请根据实际情况修改
    cd = 1121

    # 课程ID和教学班ID，必须一一对应，用逗号隔开
    # 重点：kcid 和 jx0404id 的数量必须完全相同！
    kcid = S20210001,S20210002
    jx0404id = 202120221S20210001001,202120221S20210002002

    [advanced]
    # (高级) 选课批次ID，一般不需要修改
    jx0502zbid = 248522AF977240AD868F3566F15CDED9
    # (高级) 并发线程数，建议范围 4-16
    max_workers = 8
    # (高级) 每轮抢课失败后的随机等待时间范围（秒）
    round_cool_down_min = 30
    round_cool_down_max = 90
    ```

### 如何找到 `kcid` 和 `jx0404id`？

1.  登录教务系统，进入选课页面。
2.  打开浏览器的开发者工具（通常按 `F12`）。
3.  切换到“网络(Network)”标签页。
4.  在选课页面，点击你想要选择的课程的“选课”按钮。
5.  在开发者工具中，你会看到一个新的网络请求。找到那个看起来像 `knjxkOper` 或 `bxqjhxkOper` 的请求。
6.  点击该请求，在“载荷(Payload)”或“参数(Params)”中，你可以找到 `kcid` 和 `jx0404id`。

## 🚀 运行脚本

配置完成后，直接在终端中运行主程序文件：

```bash
python sztu_course_selector.py
```

脚本会开始执行登录和抢课流程。你可以在终端中看到实时的输出。

## 🤝 贡献

欢迎提交 Pull Requests 或 Issues 来改进这个项目。

## 📄 许可证

本项目采用 [MIT License](LICENSE) 开源。 